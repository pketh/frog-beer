// Generated by CoffeeScript 1.9.0
(function() {
  $('form.sign-up').submit(function(event) {
    var email, emailInput, name, nameInput;
    emailInput = $('input[name="email"]');
    email = emailInput.val();
    nameInput = $('input[name="name"]');
    name = nameInput.val();
    if (email && name) {
      $.ajax({
        url: '/is-valid-email',
        type: 'POST',
        data: {
          'email': email
        },
        async: false,
        success: function(isValidEmail) {
          if (isValidEmail) {
            emailInput.removeClass('error');
            return console.log('is an email');
          } else {
            return emailInput.addClass('error');
          }
        }
      });
      return false;
    } else {
      alert('not filled');
      return false;
    }
  });

}).call(this);
