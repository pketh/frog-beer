// Generated by CoffeeScript 1.9.0
(function() {
  var activePalette, getPalette, highlightActiveColor, newPalette, selectColor, updateCursor, updatePalette;

  selectColor = function(context) {
    var color;
    color = $(context).data('color');
    highlightActiveColor(context);
    return updateCursor(color);
  };

  highlightActiveColor = function(context) {
    $('.color').removeClass('active');
    return $(context).addClass('active');
  };

  updateCursor = function(color) {};

  activePalette = [];

  getPalette = function() {
    var palette, shuffledPalettes, _i, _len, _results;
    shuffledPalettes = _.shuffle(palettes);
    _results = [];
    for (_i = 0, _len = shuffledPalettes.length; _i < _len; _i++) {
      palette = shuffledPalettes[_i];
      if (_.isEqual(activePalette, palette) === false) {
        activePalette = palette;
        break;
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  updatePalette = function() {
    var color, firstColor, index, paletteColor, _i, _len;
    for (index = _i = 0, _len = activePalette.length; _i < _len; index = ++_i) {
      color = activePalette[index];
      paletteColor = $('.palette-color')[index];
      console.log(paletteColor);
      $(paletteColor).css('background-color', color);
    }
    firstColor = $('.palette-color')[0];
    return selectColor(firstColor);
  };

  newPalette = function() {
    getPalette();
    return updatePalette();
  };

  $('.color').not('.shuffle').click(function() {
    var context;
    context = this;
    return selectColor(context);
  });

  $(document).keypress(function(key) {
    var context;
    if (key.which === 49) {
      context = $('.color')[0];
      return selectColor(context);
    } else if (key.which === 50) {
      context = $('.color')[1];
      return selectColor(context);
    } else if (key.which === 51) {
      context = $('.color')[2];
      return selectColor(context);
    } else if (key.which === 52) {
      context = $('.color')[3];
      return selectColor(context);
    } else if (key.which === 53) {
      context = $('.color')[4];
      return selectColor(context);
    } else if (key.which === 54) {
      context = $('.color')[5];
      return selectColor(context);
    }
  });

  $('.shuffle').click(function() {
    return newPalette();
  });

  if (typeof palettes !== "undefined" && palettes !== null) {
    newPalette();
  }

}).call(this);
